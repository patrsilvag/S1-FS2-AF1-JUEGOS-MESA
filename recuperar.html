<!DOCTYPE html>
<html lang="es">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Recuperar contrase√±a</title>

		<!-- Bootstrap CSS -->
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>

		<!-- Estilos personalizados -->
		<link rel="stylesheet" href="css/estilos.css" />
	</head>

	<body>
		<!-- Header reutilizable -->
		<div id="header-placeholder"></div>

		<main class="container py-5" style="min-height: 60vh">
			<div class="row justify-content-center">
				<div class="col-12 col-sm-10 col-md-8 col-lg-6">
					<div class="card shadow-sm">
						<div class="card-body p-4 p-lg-5">
							<h1 class="h4 mb-3 text-center">Recuperar contrase√±a</h1>

							<!-- Mensaje accesible -->
							<div
								id="reset-alert"
								class="alert d-none"
								role="alert"
								aria-live="polite"
							></div>

							<!-- Paso √∫nico: ingresar c√≥digo + nueva clave -->
							<section id="stepB">
								<p class="text-muted">
									Escribe el c√≥digo de verificaci√≥n y tu nueva contrase√±a.
								</p>

								<form id="form-reset" novalidate>
									<!-- Email -->
									<div class="mb-3">
										<label for="emailB" class="form-label">Correo</label>
										<input
											type="email"
											id="emailB"
											name="email"
											class="form-control"
											required
											aria-describedby="error-emailB"
										/>
										<small
											id="error-emailB"
											class="text-danger d-block"
											style="display: none"
										></small>
									</div>

									<!-- C√≥digo -->
									<div class="mb-3">
										<label for="code" class="form-label"
											>C√≥digo de verificaci√≥n</label
										>
										<input
											type="tel"
											id="code"
											name="code"
											class="form-control"
											inputmode="numeric"
											maxlength="6"
											required
											pattern="^[0-9]{6}$"
											data-only-digits="6"
											aria-describedby="error-code codeHelp"
										/>
										<div id="codeHelp" class="form-text">
											Ingresa los <strong>6 d√≠gitos num√©ricos</strong> del
											c√≥digo de verificaci√≥n. <br />
											En esta demo usa el c√≥digo fijo: <b>123456</b>.
										</div>
										<small
											id="error-code"
											class="text-danger d-block"
											style="display: none"
										></small>
									</div>

									<!-- Nueva contrase√±a -->
									<div class="mb-3 position-relative">
										<label for="password" class="form-label"
											>Nueva contrase√±a</label
										>
										<div class="input-group">
											<input
												type="password"
												id="password"
												name="password"
												class="form-control"
												required
												minlength="6"
												maxlength="18"
												autocomplete="new-password"
												aria-describedby="error-password passwordHelp"
											/>
											<button
												type="button"
												class="btn btn-outline-secondary toggle-password"
												tabindex="-1"
												aria-label="Mostrar contrase√±a"
												aria-pressed="false"
											>
												üëÅÔ∏è
											</button>
										</div>
										<div id="passwordHelp" class="form-text">
											Debe tener entre 6 y 18 caracteres, incluyendo al menos
											una letra may√∫scula, una min√∫scula, un n√∫mero y un s√≠mbolo
											especial.
										</div>
										<small
											id="error-password"
											class="text-danger d-block"
											style="display: none"
										></small>
									</div>

									<!-- Confirmar contrase√±a -->
									<div class="mb-3 position-relative">
										<label for="confirm" class="form-label"
											>Confirmar contrase√±a</label
										>
										<div class="input-group">
											<input
												type="password"
												id="confirm"
												name="confirm"
												class="form-control"
												required
												minlength="6"
												maxlength="18"
												autocomplete="new-password"
												aria-describedby="error-confirm"
											/>
											<button
												type="button"
												class="btn btn-outline-secondary toggle-password"
												tabindex="-1"
												aria-label="Mostrar contrase√±a"
												aria-pressed="false"
											>
												üëÅÔ∏è
											</button>
										</div>
										<small
											id="error-confirm"
											class="text-danger d-block"
											style="display: none"
										></small>
									</div>

									<!-- Botones -->
									<div class="d-flex gap-2">
										<a
											href="login.html"
											class="btn btn-outline-secondary flex-grow-1"
											aria-label="Volver a la p√°gina de inicio de sesi√≥n"
										>
											Volver
										</a>
										<button
											type="submit"
											class="btn btn-success flex-grow-1"
											aria-label="Actualizar la contrase√±a con el c√≥digo ingresado"
										>
											Actualizar contrase√±a
										</button>
									</div>
								</form>
							</section>
						</div>
					</div>
				</div>
			</div>
		</main>

		<!-- Footer reutilizable -->
		<div id="footer-placeholder"></div>

		<!-- ===========================
		     ORDEN DE SCRIPTS CORRECTO
		     =========================== -->
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
		<script src="js/site.js"></script>
		<script type="module" src="js/validaciones.js"></script>
	</body>
</html>
